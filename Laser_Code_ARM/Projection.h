#ifndef PROJECTION_H
#define PROJECTION_H

#define STEPSIZE 1000
//software limits of laser (in uint16_t )
#define MAX_X 4000
#define MIN_X 0
#define MAX_Y 4000
#define MIN_Y 0

#define PIN_SPI_MISO  12
#define PIN_SPI_MOSI  11
#define PIN_SPI_SCK   13
#define PAD_SPI_TX    SPI_PAD_0_SCK_1 
#define PAD_SPI_RX    SERCOM_RX_PAD_3


#define CS 5
//#define SCK DDB1
//#define MOSI DDB2



#include <avr/io.h>
/*
#include "galvo_modern.h"
*/

int circleX[DATAPOINTS] = {2200,2216,2233,2249,2265,2281,2296,2312,2326,2340,2354,2367,2379,2391,2402,2411,2421,2429,2436,2442,2448,2453,2455,2458,2460,2460,2459,2457,2455,2450,2446,2440,2433,2425,2417,2407,2397,2385,2373,2360,2347,2333,2319,2304,2289,2274,2257,2241,2225,2209,2191,2175,2159,2143,2126,2111,2096,2081,2067,2053,2040,2027,2015,2003,1993,1983,1975,1967,1960,1954,1950,1945,1943,1941,1940,1940,1942,1945,1947,1952,1958,1964,1971,1979,1989,1998,2009,2021,2033,2046,2060,2074,2088,2104,2119,2135,2151,2167,2184,2200};
int circleY[DATAPOINTS] = {2300,2299,2298,2295,2290,2285,2279,2271,2262,2252,2242,2230,2217,2204,2189,2174,2158,2142,2125,2107,2089,2071,2052,2033,2014,1995,1976,1957,1939,1920,1902,1884,1867,1850,1834,1818,1804,1790,1776,1764,1753,1743,1733,1725,1718,1712,1707,1704,1701,1700,1700,1701,1704,1707,1712,1718,1725,1733,1743,1753,1764,1776,1790,1804,1818,1834,1850,1867,1884,1902,1920,1939,1957,1976,1995,2014,2033,2052,2071,2089,2107,2125,2142,2158,2174,2189,2204,2217,2230,2242,2252,2262,2271,2279,2285,2290,2295,2298,2299,2300};

int TRANSHELLOY[DATAPOINTSI] = {2446,2446,2446,2446,2446,2446,2446,2446,2446,2446,2446,2446,2446,2446,2446,2199,2233,2266,2297,2326,2352,2373,2390,2403,2409,2411,2407,2397,2383,2363,2339,2312,2282,2250,2216,2182,2148,2116,2085,2058,2034,2015,2000,1991,1987,1988,1995,2007,2024,2046,2071,2100,2132,2165,2199,1951,1951,1951,1951,1951,1951,1951,1951,1951,1951,1951,1951,1951,1951,1951,1951,1936,1921,1906,1891,1876,1860,1845,1830,1815,1800,1785,1769,1754,1739,1739,1739,1739,1739,1739,1739,1739,1739,1739,1739,1739,1739,1739,1739,1739};
int TRANSHELLOX[DATAPOINTSI] = {2300,2257,2214,2171,2128,2085,2042,2000,1957,1914,1871,1828,1785,1742,1700,1700,1703,1715,1734,1760,1792,1829,1871,1916,1963,2012,2060,2106,2150,2189,2224,2253,2275,2291,2299,2299,2291,2275,2253,2224,2189,2150,2106,2060,2012,1963,1916,1871,1829,1792,1760,1734,1715,1703,1700,1700,1742,1785,1828,1871,1914,1957,2000,2042,2085,2128,2171,2214,2257,2300,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,1700,1742,1785,1828,1871,1914,1957,2000,2042,2085,2128,2171,2214,2257,2300};

int HELLOY[DATAPOINTSI] = {2550,2550,2550,2550,2550,2550,2550,2550,2550,2550,2550,2550,2550,2550,2550,2200,2248,2295,2339,2380,2416,2446,2471,2488,2497,2499,2493,2480,2459,2432,2398,2360,2317,2271,2224,2175,2128,2082,2039,2001,1967,1940,1919,1906,1900,1902,1911,1928,1953,1983,2019,2060,2104,2151,2200,1850,1850,1850,1850,1850,1850,1850,1850,1850,1850,1850,1850,1850,1850,1850,1850,1828,1807,1785,1764,1742,1721,1700,1678,1657,1635,1614,1592,1571,1550,1550,1550,1550,1550,1550,1550,1550,1550,1550,1550,1550,1550,1550,1550,1550};
int HELLOX[DATAPOINTSI] = {2300,2257,2214,2171,2128,2085,2042,2000,1957,1914,1871,1828,1785,1742,1700,1700,1703,1715,1734,1760,1792,1829,1871,1916,1963,2012,2060,2106,2150,2189,2224,2253,2275,2291,2299,2299,2291,2275,2253,2224,2189,2150,2106,2060,2012,1963,1916,1871,1829,1792,1760,1734,1715,1703,1700,1700,1742,1785,1828,1871,1914,1957,2000,2042,2085,2128,2171,2214,2257,2300,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,1700,1742,1785,1828,1871,1914,1957,2000,2042,2085,2128,2171,2214,2257,2300};

void initProjection();

void moveAbs(int target_x, int target_y);

void moveMirrors(uint16_t x, uint16_t y);

#endif
